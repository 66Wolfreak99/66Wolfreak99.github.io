<!DOCTYPE HTML>
<html lang="FR-fr">

  <head>

    

    <meta charset="utf-8">

    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="favicon.png" >
  
    <title>Page History - 66Wolfreak99</title>
    <script src="ajax.js"></script>
    <style>
        .test + tr td{
            background: rgb(141, 104, 77) !important;
            border: 1px solid #ff9621;
            
        }
        .test + tr td::before {
            background: #ff9621;
            color: rgb(155, 0, 6);
            font-weight: bold;
            content: "Latest Update ";
            padding: 2px;
            position: relative;
            left: -3px;
            top: -3px;
            display: block;
            width: 101px;
            border-bottom-right-radius: 9px;
        
        }


    </style>

  </head>

  <body class="background">

    <center>
        <table class="banner table-width"    border="0" cellspacing="0" cellpadding="0"  >
            <tbody>

                <tr>
                    <td align="center">
                        <img class="logoimg" height="70px" src="img/logo.png" alt="66Wolfreak99"> 
                    </td>

                </tr>
                
                <tr>
                    

                    <td align="right" valign="bottom">

                        <a href="http://www.mabsland.com/index2.html">
                            <img src="img/censor/Censor_14c.gif" alt="Censor_14.gif">
                        </a>
    
                    </td>
                    
                </tr>
                
            </tbody>
        </table>

        <table id="bkgc" class="table-width" border="0" cellspacing="0" cellpadding="10" >
            <tbody>
                <tr>
                    <td id="cel"> <a id="nav" href="index.html">Back to home</a> | <span ><b id="navBreadcrumb">Page History</b></span> </td>
                </tr>
                <tr>
                    <td>
                        <h1 class="titleFont">Updates</h1>
                    </td>
                </tr>
                <tr>
                    <td>
                        <table width="100%" cellspacing="3" cellpadding="3">
                            <tbody id="box">
                                
                                <tr>
                                    <td>
                                        <h4>
                                            Threre should be some updates displaying there...
                                        </h4>
                                    </td>
                                </tr>
    

                            </tbody>
                            

                        </table>
                    </td>
                </tr>
            </tbody>
        </table>

    </center>
    <script>
        function loadDataResult(el, res){
            const json_res = JSON.parse(res);
            el.innerHTML = "";
            
            // Prendre tout les éléments de la liste "update"
            json_res.updates.forEach(u => {
    
                // Créer "un update"
                let entry = document.createElement("TR"); 
    
                let td = document.createElement("TD");
                td.id = "cel";
                td.valign = "top";
                td.align = "left";
                td.innerHTML = u.date + '(v: <small>' + u.version + '</small>)';
                //entry.innerHTML += '<td id="cel" valign="top" align="left">' + u.date + '(v: <small>' + u.version + '</small>)';
    
                let sub_entry = document.createElement("UL"); 
    
                // Print chaque nouveau feature
                u.content.forEach(c => {
                    sub_entry.innerHTML += ("<li>"+c+"</li>");
                });
    
                td.appendChild(sub_entry);
                entry.appendChild(td);
    
                // Ajout d'un élément
                el.appendChild(entry);
            });
        }
        ajax("update_log.txt", "GET", "", box, loadDataResult)
            
            
            </script>  
    

  </body>

</html>